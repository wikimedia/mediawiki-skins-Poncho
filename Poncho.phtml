<?php $this->html( 'headelement' ); ?>

<div id="mw-js-message"></div>
<?php if ( $this->data['newtalk'] ): ?><div class="usermessage"><?php $this->html( 'newtalk' ); ?></div><?php endif; ?>
<?php if ( $this->data['sitenotice'] ): ?><div id="siteNotice"><?php $this->html( 'sitenotice' ) ?></div><?php endif; ?>

<div id="header-wrapper">
	<div id="header">

		<a id="logo" href="<?= htmlspecialchars( $this->data['nav_urls']['mainpage']['href'] ); ?>" <?= Xml::expandAttributes( Linker::tooltipAndAccesskeyAttribs( 'p-logo' ) ); ?> style="background-image: url(<?php global $wgLogo; echo $wgLogo; ?>)"></a>

		<form id="search-form" action="<?php $this->text( 'wgScript' ); ?>">
			<button type="submit"></button>
			<?php echo $this->makeSearchInput([ 'type' => 'text', 'id' => 'search-field', 'placeholder' => wfMessage( 'poncho-search' ) ]); ?>
			<input type="hidden" name="title" value="<?php $this->text( 'searchtitle' ) ?>" />
		</form>

		<ul id="menu">
			<li><span><?php $this->text( 'sitename' ) ?></span>
				<ul class="submenu">
				<?php foreach ( $this->data['sidebar']['navigation'] as $key => $value ) echo $this->makeListItem( $key, $value ); ?>
				</ul>
			</li>

			<li><span><?= wfMessage( 'poncho-tools' ); ?></span>
				<ul class="submenu">
				<?php foreach ( $this->getToolbox() as $key => $value ) echo $this->makeListItem( $key, $value ); ?>
				</ul>
			</li>

			<li><span><?= wfMessage( 'poncho-actions' ); ?></span>
				<ul class="submenu">
				<?php foreach ( $this->getActions() as $key => $value ) echo $this->makeListItem( $key, $value ); ?>
				</ul>
			</li>

			<li><span><?= wfMessage( 'poncho-you' ); ?></span>
				<ul class="submenu">
				<?php foreach ( $this->getPersonalTools() as $key => $value ) echo $this->makeListItem( $key, $value ); ?>
				</ul>
			</li>
		</ul>

	</div>
</div>

<div id="content-wrapper">

	<div id="content">

		<?= $this->getIndicators(); ?>

		<h1 id="title"><?php $this->html( 'title' ) ?></h1>

		<?php if ( $this->data['subtitle'] ): ?>
		<div id="subtitle"><?php $this->html( 'subtitle' ) ?></div>
		<?php endif; ?>

		<?php if ( $this->data['undelete'] ): ?>
		<div id="undelete"><?php $this->html( 'undelete' ) ?></div>
		<?php endif; ?>

		<?php if ( $this->data['newtalk'] ): ?>
		<div class="newtalk"><?php $this->html( 'newtalk' )  ?></div>
		<?php endif; ?>

		<?php $this->html( 'bodytext' ) ?>

		<div class="printfooter"><?php $this->html( 'printfooter' ); ?></div>

		<?php $this->html( 'catlinks' ); ?>

		<?php $this->html( 'dataAfterContent' ); ?>

		<?php $this->html( 'debughtml' ); ?>

	</div>

</div>

<div id="footer">
	<?= $this->getFooter(); ?>
</div>

<?php $this->printTrail(); ?>

</body>
</html>